<div class="grid pt-5 container">
  <div class="col-12 xl:col-6 xl:col-offset-3">
    <p-dropdown placeholder="Select season" [style]="{'width':'100%'}" (onChange)="getCompetition()" [options]="seasons" [formControl]="selected" optionLabel="name"></p-dropdown>
  </div>
  <div class="col-12 xl:col-6 xl:col-offset-3 justify-content-center">
    <p-card header="Circuits">
      <p-carousel (onPage)="witchPage($event)" [value]="circuits" [numVisible]="1" [numScroll]="1" [circular]="false" [responsiveOptions]="responsiveOptions">
        <ng-template let-circuits pTemplate="item">
            <div class="titleStyle font-bold text-3xl">
              {{circuits.id}}. {{circuits.name}} - {{circuits.length}}
            </div>
            <div><img [src]="circuits.image" width="100%"></div>
          </ng-template>
        </p-carousel>
  </p-card>
  </div>
  <div [hidden]="rankingVisible" class="col-12 xl:col-6 xl:col-offset-3 justify-content-center">
    <p-table responsiveLayout="scroll" [value]="rankings">
      <ng-template pTemplate="header">
          <tr>
              <th>Position</th>
              <th>Name</th>
              <th>Time</th>
              <th></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rankings>
          <tr>
              <td>{{rankings.position}}</td>
              <td>{{rankings.name}}</td>
              <td>{{rankings.time}}</td>
              <td style="text-align: center">
                <button pButton type="button" class="p-button-secondary" label="Details" (click)="detailsDriver(rankings.id)"></button>
            </td>
          </tr>
      </ng-template>
  </p-table>
  <p-dialog header="{{details?.name}}" [(visible)]="openDialog" [style]="{width: '70%'}">
    <div class="grid">
      <div class="col-6 font-bold">
        <p>Birthdate: {{details?.birthdate}}</p>
        <p>Nationality: {{details?.nationality}}</p>
      </div>
      <div class="col-6">
        <img [src]="details?.image" width="30%" [alt]="details?.name">
      </div>
      <div class="col-12">
        <p-table [value]="detailsTeams" responsiveLayout="scroll">
          <ng-template pTemplate="header">
              <tr>
                  <th>Season</th>
                  <th>Name</th>
                  <th>Logo</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-detailsTeams>
              <tr>
                  <td>{{detailsTeams.season}}</td>
                  <td>{{detailsTeams.team.name}}</td>
                  <td><img [src]="detailsTeams.team.logo" width="100px" [alt]="details?.name"></td>
              </tr>
          </ng-template>
      </p-table>
      </div>
    </div>
    <ng-template>
        <p-button icon="pi pi-check" (click)="openDialog = false" label="Ok" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>
  </div>
</div>
